local function clear()
  if term.isColor and term.isColor() then
    term.setBackgroundColor(colors.black)
	term.setTextColor(colors.white)
  end
  term.clear()
  term.setCursorPos(1, 1)
end
function status(text)
	term.clearLine()
	local _, y = term.getCursorPos()
	term.setCursorPos(1, y)
	if text then
		write(text)
	end
end

clear()
write("This is CCGnu Core.")
status("Starting package manager grin-get...")
shell.run("/grin/bin/grin-startup.lua")
status("Checking for core apis...")
if fs.exists("/lib/core/") and fs.isDir("/lib/core") then
		write(" Api dir finded. Loading main api...")

else
	printError("ERROR: Failed to find core api dir. Reinstall system (Y/n)?")
	local event, key = os.pullEvent("key")
	if key == keys.n then
			error()
	else
		-- TODO reinstall system
	end
end